{% extends 'base.html' %} {% block title %}Premium Malaysian Cuisine - Shop
Quality Spices & Authentic Ingredients{% endblock %} {% block content %}
<div class="min-h-screen">
    <div class="container mx-auto px-4 py-8" id="main-content">
        <!-- Sort Controls -->
        <div class="card bg-base-200 shadow-xl mb-8" id="products">
            <div class="card-body">
                <form method="get" class="flex justify-end">
                    <select
                        name="sort"
                        class="select select-bordered"
                        hx-get="{% url 'pages:index' %}"
                        hx-trigger="change"
                        hx-target="#products-grid"
                        hx-swap="innerHTML"
                        hx-include="[name='category']"
                    >
                        <option
                            value="-created_at"
                            {%
                            if
                            sort=""
                            ="-created_at"
                            %}selected{%
                            endif
                            %}
                        >
                            Newest First
                        </option>
                        <option
                            value="created_at"
                            {%
                            if
                            sort=""
                            ="created_at"
                            %}selected{%
                            endif
                            %}
                        >
                            Oldest First
                        </option>
                        <option
                            value="name"
                            {%
                            if
                            sort=""
                            ="name"
                            %}selected{%
                            endif
                            %}
                        >
                            Name (A-Z)
                        </option>
                        <option
                            value="-name"
                            {%
                            if
                            sort=""
                            ="-name"
                            %}selected{%
                            endif
                            %}
                        >
                            Name (Z-A)
                        </option>
                        <option
                            value="price"
                            {%
                            if
                            sort=""
                            ="price"
                            %}selected{%
                            endif
                            %}
                        >
                            Price (Low to High)
                        </option>
                        <option
                            value="-price"
                            {%
                            if
                            sort=""
                            ="-price"
                            %}selected{%
                            endif
                            %}
                        >
                            Price (High to Low)
                        </option>
                    </select>

                    {% if current_category %}
                    <input
                        type="hidden"
                        name="category"
                        value="{{ current_category }}"
                    />
                    {% endif %}
                </form>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div
            id="loading-indicator"
            class="htmx-indicator flex justify-center py-8"
        >
            <span
                class="loading loading-spinner loading-lg text-primary"
            ></span>
        </div>

        <!-- Products Grid -->
        <div id="products-grid">
            {% include 'products/partials/product_grid.html' %}
        </div>
    </div>
</div>

<!-- Product Quick View Modal -->
<dialog id="product_modal" class="modal">
    <div class="modal-box w-11/12 max-w-5xl">
        <form method="dialog">
            <button
                class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >
                ✕
            </button>
        </form>
        <div id="modal-content">
            <!-- Content will be loaded here via HTMX -->
        </div>
    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<!-- Footer with DaisyUI -->
<footer class="bg-base-200 text-base-content">
    <div class="container mx-auto px-10 py-10">
        <div class="grid grid-cols-2 gap-8">
            <div>
                <span class="footer-title block mb-2">Customer Service</span>
                <a class="link link-hover block py-1">Contact Us</a>
                <a class="link link-hover block py-1">Shipping Info</a>
                <a class="link link-hover block py-1">Returns</a>
                <a class="link link-hover block py-1">FAQ</a>
            </div>
            <div>
                <span class="footer-title block mb-2">Company</span>
                <a
                    href="{% url 'pages:about' %}"
                    class="link link-hover block py-1"
                    >About us</a
                >
                <a class="link link-hover block py-1">Blog</a>
                <a class="link link-hover block py-1">Careers</a>
                <a class="link link-hover block py-1">Privacy Policy</a>
            </div>
        </div>
    </div>
</footer>

<footer class="footer footer-center p-4 bg-base-300 text-base-content">
    <div>
        <p>Copyright © 2024 - All rights reserved by Kampung Cuisine</p>
    </div>
</footer>
{% endblock %}
